"0","##model <- lm(mydf4$in.2 ~ poly(mydf4$in.1,3))"
"0","##summary(model)"
"0","#in12 <- data.frame(x=df3[,4],y=df3[,5],cluster=factor(lab3))"
"0","#in12 <- in12[vdf$type==""KC"",]"
"0","#model2 <- loess(y ~ x, in12)"
"0","#summary(model2)"
"0","#in12 <- cbind(in12, age=KC.age)"
"0","#p2 <- ggplot(in12, aes(x=x,y=y)) + "
"0","#    geom_point(aes(color=cluster,shape=age))"
"0","#p2 + stat_smooth()#method = ""lm"", formula = y ~ poly(x,3))"
"0","## or this?"
"0","#model3 <- lm(in12$y ~ poly(in12$x,2,raw=TRUE))"
"0","#summary(model3)"
"0","#p2 + stat_smooth(method = ""lm"", formula = y ~ poly(x,2,raw=TRUE))"
"0","#or use all 216 in dim=6"
"0","#model4 <- lm(in12$y ~ poly(in12$x,2,raw=TRUE))"
"0","#summary(model3)"
"0","#"
"0","#p2 + stat_smooth(method = ""lm"", formula = y ~ poly(x,2,raw=TRUE))"
"0","#p2 + stat_density2d(geom=""density2d"",aes(color=cluster,alpha=..level..),contour=TRUE)"
"0","#ggplot(subset(in12,cluster!=5),aes(x=x,y=y)) + stat_density2d(geom=""density2d"",aes(color=cluster)) + stat_smooth(method = ""lm"", formula = y ~ poly(x,2,raw=TRUE)) + geom_point(aes(color=cluster,shape=age))"
"0","#ggplot(subset(in12,cluster!=5),aes(x=x,y=y)) + stat_ellipse(type=""norm"",aes(color=cluster)) + stat_smooth(method = ""lm"", formula = y ~ poly(x,2,raw=TRUE)) + geom_point(aes(color=cluster,shape=age))"
"0","dd <- data.frame(x=df3[,""out 1""],y=df3[,""out 2""],cluster=factor(lab3),type=vdf$type)"
"0","tmp <- which(dd$type==""KC"")"
"0","age <- rep(""NA"",nrow(dd)); age[tmp] <- paste0("" "",KC.age)"
"0","dd <- cbind(dd,KC.age=age)"
"0","p3 <- ggplot(dd,aes(x=x,y=y)) + geom_point(aes(shape=cluster,color=type,fill=type),size=2,alpha=0.6) +   scale_shape_manual(values=c(22,21,23:25,8))"
"0","dd2 <- subset(dd, type==""KC"" & cluster!=5)    "
"0","dd3 <- subset(dd, type!=""KC"")    "
"0","#p3 + stat_ellipse(data=dd3, type=""norm"", aes(color=type), size=1) + stat_smooth(data=dd2, method = ""lm"", formula = y ~ poly(x,2,raw=TRUE), fill=""pink"",color=""red"")"
"0","p3 <- p3 + stat_ellipse(data=dd3, geom=""polygon"", aes(fill=type,color=type), alpha=.2, show.legend=FALSE) + stat_smooth(data=dd2, method=""lm"", formula=y~poly(x,2,raw=TRUE), fill=""red"", color=""red"", alpha=.2)"
"0","p3 <- p3 + geom_point(data=dd2,aes(alpha=KC.age),color=""red"",fill=""red"")"
"0","p3"
"0","#p3 + stat_ellipse(data=dd3, type=""norm"",aes(color=cluster)) + stat_smooth(data=dd2, method=""glm"",formula=y ~ log(x), color=""black"") "
"0","#dat <- dd2[,1:2]"
"0","#names(dat) <- c(""x"",""y"")"
"0","#save(dat, file=""dat.Rbin"")"
"0","#print(load(url(""http://www.cis.jhu.edu/~parky/dat.Rbin"")))"
"0","#ggplot(dat, aes(x=y,y=x)) + geom_point() + stat_smooth(method=""lm"", formula=y~poly(x,2,raw=TRUE))"
"0","#ggplot(dat, aes(x=y,y=x)) + geom_point() + stat_smooth(method=""lm"", formula=x~poly(y,2,raw=TRUE))"
"0","#ggplot(dat, aes(x=x,y=y)) + geom_point() + stat_smooth(method=""lm"", formula=y~poly(x,2,raw=TRUE))"
"0","#ggplot(dat, aes(x=x,y=y)) + geom_point() + stat_smooth(method=""lm"", formula=x~poly(y,2,raw=TRUE))"
"0","#mod <- lm(x ~ poly(y,2,raw=TRUE), data=dat)"
"0","#newdat <- data.frame(y=seq(min(dat$y), max(dat$y), length=nrow(dat)))"
"0","#newdat$pred <- predict(mod,newdata=newdat)"
"0","#plot(y ~ x, data=dat)"
"0","#with(newdat, lines(y=y, x=pred,col=2,lwd=2))"
"0","     "
"0","#mod2 <- lm(x ~ poly(y,2,raw=TRUE), data=dat)"
"0","##mod2 <- lm(x ~ y, data=dat)"
"0","#pdat <- with(dat, data.frame(y=seq(min(y), max(y), length=nrow(dat))))"
"0","##pdat <- transform(pdat, pred=predict(mod2, newdata=pdat))"
"0","#pdat$pred <- predict(mod2, newdata=pdat)"
"0","#ggplot(dat, aes(x=x,y=y)) + "
"0","#  geom_point() + "
"0","#  stat_smooth(method = ""lm"", formula=y~poly(x,2,raw=TRUE)) +"
"0","#  geom_line(data=pdat, aes(x=pred, y=y), color=""red"", size=1)"
